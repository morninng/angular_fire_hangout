"use strict";angular.module("angularFireHangoutApp",["ngAnimate","ui.router","firebase"]),angular.module("angularFireHangoutApp").run(["$state","MixideaSetting",function(a,b){function c(b,c){switch(b){case"main":switch(c){case"introduction":a.go("main.intro");break;case"preparation":a.go("main.preparation");break;case"debate":a.go("main.debate");break;case"reflection":a.go("main.reflection");break;case"complete":a.go("main.complete")}break;case"team_discussion":a.go("team_discussion")}}console.log("event id:"+b.event_id),console.log("user id : "+b.own_user_id),console.log("room type : "+b.room_type);var d=b.event_id,e=b.room_type,f=new Firebase(b.firebase_url),g=f.child("event_related/game/"+d+"/game_status");g.once("value",function(a){var b=a.val();c(e,b)},function(a){alert("event is corrupted, please confirm with mixidea administrator")})}]),angular.module("angularFireHangoutApp").config(["$stateProvider","MixideaSetting",function(a,b){a.state("main",{views:{RootView:{templateUrl:b.source_domain+"views/main/main_room_layout.html"}}}).state("main.intro",{views:{top_left:{templateUrl:b.source_domain+"views/common/title.html",controller:"TitleMgrCtrl"},container_second_top:{templateUrl:b.source_domain+"views/common/status-bar.html",controller:"StatusbarCtrl"}}})}]),angular.module("angularFireHangoutApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("angularFireHangoutApp").controller("StatusbarCtrl",["$scope",function(a){a.status_intro="status_bar_element",a.status_prep="status_bar_element",a.status_debate="status_bar_element_selected",a.status_reflec="status_bar_element",a.status_complete="status_bar_element_last"}]),angular.module("angularFireHangoutApp").controller("TitleMgrCtrl",["$scope","MixideaSetting","$timeout",function(a,b,c){function d(){var b=a.data.motion.length,c=0;c=b>45?45:b>20?b:20;var d=String(c)+"em";a.dynamic_width={width:d}}a.under_edit=!1,a.data=new Object,a.data.motion="";var e=new Firebase(b.firebase_url),f=e.child("event_related/game/"+b.event_id+"/motion");f.on("value",function(b){c(function(){a.data.motion=b.val();var c=a.data.motion.length;0==c?(a.motion_sentence="motion_sentence_Red_xlarge",a.data.motion="input motion here",a.data.motion_exist=!1):60>c?(a.motion_sentence="motion_sentence_large",a.data.motion_exist=!0):100>c?(a.motion_sentence="motion_sentence_middle",a.data.motion_exist=!0):(a.motion_sentence="motion_sentence_small",a.data.motion_exist=!0)})},function(a){console.log("The read failed: "+a.code)}),a.on_motion_change=function(){d()},a.edit_start=function(){d(),a.data.motion_exist||(a.data.motion=""),a.under_edit=!0},a.save=function(){f.set(a.data.motion),a.under_edit=!1},a.cancel=function(){a.under_edit=!1}}]);